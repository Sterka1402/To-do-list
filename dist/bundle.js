(()=>{"use strict";var e={d:(t,n)=>{for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},t={};e.r(t),e.d(t,{addList:()=>n,deleteList:()=>r,getList:()=>o,updateList:()=>s});const n=async(e,t)=>{const n={headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify(t)};try{const t=await fetch(e,n);if(!t.ok)throw new Error(t.status);return t.json()}catch(e){console.log(`Error: server responded: ${e.message}`)}},o=async e=>{try{const t=await fetch(e);if(!t.ok)throw new Error(t.status);return t.json()}catch(e){console.log(`Error: server responded: ${e.message}`)}},s=async(e,t,n)=>{const o={headers:{"Content-Type":"application/json"},method:"PUT",body:JSON.stringify(t)};try{const t=await fetch(`${e}/${n}`,o);if(!t.ok)throw new Error(t.status);return t.json()}catch(e){console.log(`Error: server responded: ${e.message}`)}},r=async(e,t)=>{const n={method:"DELETE"};try{const o=await fetch(`${e}/${t}`,n);if(!o.ok)throw new Error(o.status);return o.json()}catch(e){console.log(`Error: server responded: ${e.message}`)}},a=async(e,n)=>{const o=(await t(n)||[]).filter((e=>!e.done)),s=0===o.length?"No tasks today!":`You have ${o.length} tasks today!`;document.querySelector(".task-counting").innerHTML=`\n    <p>${s}</p>\n    `},c=async(e,n)=>{const o=await t(n)||[];e.innerHTML=o.map((e=>`\n    <li class="${e.done?"check-list done-list":"check-list"}" data-key="${e.id}" >\n    <img class='remove-list' src='./src/icons/trash.svg' alt="Delete">\n    ${e.text}</li>\n  `)).join("")},d=async(e,n,o,s)=>{if(""!==o.value){const e={text:o.value,done:!1};await t(s,e),a(0,s),c(n,s),o.value=""}};window.addEventListener("load",(()=>{const e=document.querySelector(".list-container"),t=document.getElementById("new-task"),n=document.getElementById("add-btn"),i="http://localhost:3000/posts";(function(){const e=document.querySelector(".current-date"),t=new Date,n=t.getDay();e.innerHTML=`\n  <h1>Hello!</h1>\n  <p>Today is ${["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][n]}, ${t.toLocaleDateString()}.</p>\n  `})(),a(0,i),t.addEventListener("keydown",(n=>function(e,t,n,o){13===e.keyCode&&d(0,t,n,o)}(n,e,t,i))),n.addEventListener("click",(n=>d(0,e,t,i))),e.addEventListener("click",(t=>((e,t,n)=>{if(e.target.classList.contains("remove-list")&&"IMG"===e.target.tagName){const s=e.target.closest("LI").dataset.key,a=o(n)||[];for(let e=0;e<a.length;e++)if(a[e].id===String(s)&&!a[e].done)return;r(n,s),c(t,n)}})(t,e,i))),e.addEventListener("click",(t=>((e,t,n)=>{let r,d=0;const i=o(n)||[];if(e.target.classList.contains("check-list")&&"LI"===e.target.tagName){d=e.target.dataset.key;for(let e=0;e<i.length;e++)i[e].id===String(d)&&(i[e].done=!i[e].done,r=i[e])}s(n,r,d),a(0,n),c(t,n)})(t,e,i)))}))})();